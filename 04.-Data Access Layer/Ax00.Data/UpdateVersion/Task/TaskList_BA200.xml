<DatabaseUpdatesManager xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Releases>
    <Release Version="03.00.04">
        <DataRevisions>
          <DataRevision JiraID="BA-2469" SequenceNumber="0">
            <PrerequisiteScript>
            </PrerequisiteScript>
            <DataScript>
			        UPDATE dbo.tfmwVersions SET UserSoftware = '3.0.4', ServiceSoftware = '1.2.4', FirmwareScripts = '1.1.0', Firmware = '0.13'
			        GO
            </DataScript>
            <IntegrityScript>
            </IntegrityScript>
          </DataRevision>
        </DataRevisions>
    </Release>
    <Release Version="03.00.05">
      <DataRevisions>
        <DataRevision JiraID="BA-2469" SequenceNumber="0">
          <PrerequisiteScript>
          </PrerequisiteScript>
          <DataScript>
            UPDATE dbo.tfmwVersions SET UserSoftware = '3.0.5', ServiceSoftware = '1.2.4', FirmwareScripts = '1.1.0', Firmware = '0.20'
            GO

            IF ((SELECT COUNT(*) FROM [dbo].[tcfgAnalyzers] WHERE [AnalyzerID] = 'SN0000099999_Ax200' ) = 0)
            BEGIN
            INSERT INTO [dbo].[tcfgAnalyzers] ([AnalyzerID],[AnalyzerModel],[FirmwareVersion],[Generic],[Active]) VALUES('SN0000099999_Ax200', 'A200', '0.0', 1, 0)

            END
            GO

            IF ((SELECT COUNT(*) FROM sys.sysobjects WHERE xtype = 'U' AND name = 'tfmwAnalyzerModelTubesByRing') = 1)
            BEGIN
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'SAMPLES',1,'T13',1)
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'SAMPLES',1,'T15',1)
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'SAMPLES',1,'PED',0)
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'REAGENTS',2,'BOTTLE3',1)
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'REAGENTS',2,'BOTTLE2',1)
            INSERT INTO [dbo].[tfmwAnalyzerModelTubesByRing] ([AnalyzerModel],[RotorType],[RingNumber],[TubeType],[ApplyToAllFlag]) VALUES ('A200', 'REAGENTS',2,'BOTTLE1',1)
            END
            GO


            IF ((SELECT COUNT(*) FROM sys.sysobjects WHERE xtype = 'U' AND name = 'tfmwAnalyzerModelRotorsConfig') = 1)
            BEGIN
            UPDATE tfmwAnalyzerModelRotorsConfig SET RotorType = 'SAMPLES', RingPositions = 44, FirstCellNumber = 1, LastCellNumber = 44
            WHERE AnalyzerModel = 'A200' AND RotorType = 'SAMP_REAG' AND RingNumber = 1

            UPDATE tfmwAnalyzerModelRotorsConfig SET RotorType = 'REAGENTS', RingPositions = 44, FirstCellNumber = 45, LastCellNumber = 88
            WHERE AnalyzerModel = 'A200' AND RotorType = 'SAMP_REAG' AND RingNumber = 2

            END
            GO

            IF ((SELECT COUNT(*) FROM sys.sysobjects WHERE xtype = 'U' AND name = 'tfmwSwFlags') = 1)
            BEGIN
            IF ((SELECT COUNT(*) FROM [dbo].[tfmwSwFlags] WHERE [FlagID] = 'DynamicBL_Fill' ) = 0)
            BEGIN
            INSERT INTO [dbo].[tfmwSwFlags] ([FlagID] ,[AllowedValues]) VALUES ('DynamicBL_Fill' ,'INI, END, CANCELED or NULL')
            END

            IF ((SELECT COUNT(*) FROM [dbo].[tfmwSwFlags] WHERE [FlagID] = 'DynamicBL_Read' ) = 0)
            BEGIN
            INSERT INTO [dbo].[tfmwSwFlags] ([FlagID] ,[AllowedValues]) VALUES ('DynamicBL_Read' ,'INI, END, CANCELED or NULL')
            END

            IF ((SELECT COUNT(*) FROM [dbo].[tfmwSwFlags] WHERE [FlagID] = 'DynamicBL_Empty' ) = 0)
            BEGIN
            INSERT INTO [dbo].[tfmwSwFlags] ([FlagID] ,[AllowedValues]) VALUES ('DynamicBL_Empty' ,'INI, END, CANCELED or NULL')
            END

            END
            GO
          </DataScript>
        </DataRevision>
        <IntegrityScript>
        </IntegrityScript>
      </DataRevisions>
    </Release>
    <Release Version="03.00.07">
      <DataRevisions>
        <DataRevision JiraID="BA-2469" SequenceNumber="0">
          <PrerequisiteScript>
          </PrerequisiteScript>
          <DataScript>
            UPDATE dbo.tfmwVersions SET UserSoftware = '3.0.7', ServiceSoftware = '1.2.4', FirmwareScripts = '1.3.0', Firmware = '0.44.2'
            GO

            -- BA-2396 ERR560
            IF((SELECT COUNT(*) FROM dbo.tfmwAlarms WHERE AlarmID LIKE 'GLF_BOARD_FBLD_ERR') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarms ([AlarmID],[AlarmSource],[AlarmType],[Name],[NameResourceID],[Description],[DescResourceID],[Solution],[SolResourceID],[Sound],[OnRunningSound],[Freeze],[OKType],[LISValue])
            VALUES ('GLF_BOARD_FBLD_ERR','INS','ERROR','Photometric board error during FBLD','GLF_BOARD_ERR','Photometric board does not respond','ALM_GLF_BOARD_ERR','Switch off the analyzer and the application, wait 30 seconds and then switch them on both again. Then press the Connect button','SOL_RECOVER_ERR',0,0,'RESET',1,0)
            END
            GO
            IF((SELECT COUNT(*) FROM dbo.tfmwAlarmErrorCodes WHERE AlarmID LIKE 'GLF_BOARD_FBLD_ERR') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarmErrorCodes (AlarmID, ErrorCode, ManagementID)
            VALUES ('GLF_BOARD_FBLD_ERR',560,'3_RECOVER_ERROR')
            END
            GO

            -- BA-2358 ERR551

            IF((SELECT COUNT(*) FROM dbo.tfmwAlarms WHERE AlarmID LIKE 'FBLD_ROTOR_FULL') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarms ([AlarmID],[AlarmSource],[AlarmType],[Name],[NameResourceID],[Description],[DescResourceID],[Solution],[SolResourceID],[Sound],[OnRunningSound],[Freeze],[OKType],[LISValue])
            VALUES ('FBLD_ROTOR_FULL','INS','REMARK','Photometric Rotor full','FBLD_ROTOR_FULL','Photometric Rotor is full','ALM_FBLD_ROTOR_FULL',NULL,NULL,0,0,NULL,0,0)
            END
            GO
            IF((SELECT COUNT(*) FROM dbo.tfmwAlarmErrorCodes WHERE AlarmID LIKE 'FBLD_ROTOR_FULL') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarmErrorCodes (AlarmID, ErrorCode, ManagementID)
            VALUES ('FBLD_ROTOR_FULL',551,'6_OMMIT_ERROR')
            END
            GO

            -- BA-2358 ERR552

            IF((SELECT COUNT(*) FROM dbo.tfmwAlarms WHERE AlarmID LIKE 'UNKNOW_ROTOR_FULL') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarms ([AlarmID],[AlarmSource],[AlarmType],[Name],[NameResourceID],[Description],[DescResourceID],[Solution],[SolResourceID],[Sound],[OnRunningSound],[Freeze],[OKType],[LISValue])
            VALUES ('UNKNOW_ROTOR_FULL','INS','REMARK','Unknow Photometric rotor state','UNKNOW_ROTOR_FULL','Photometric Rotor has some wells full','ALM_UNKNOW_ROTOR_FULL',NULL,NULL,0,0,NULL,0,0)
            END
            GO
            IF((SELECT COUNT(*) FROM dbo.tfmwAlarmErrorCodes WHERE AlarmID LIKE 'UNKNOW_ROTOR_FULL') = 0)
            BEGIN
            INSERT INTO dbo.tfmwAlarmErrorCodes (AlarmID, ErrorCode, ManagementID)
            VALUES ('UNKNOW_ROTOR_FULL',552,'2_FATAL_ERROR')
            END
            GO

            -- BA-2358
            IF((SELECT COUNT(*) FROM dbo.tfmwGeneralSettings WHERE SettingID LIKE 'FLIGHT_FULL_ROTOR_CADUCITY') = 0)
            BEGIN
            INSERT INTO dbo.tfmwGeneralSettings (SettingID, FixedItemDesc, CurrentValue, Status)
            VALUES ('FLIGHT_FULL_ROTOR_CADUCITY','Minutes that a full clean rotor is considered good to be read in a FLIGHT operation','30', 1)
            END
            GO

            -- BA-2406
            IF((SELECT COUNT(*) FROM dbo.tfmwSwFlags WHERE FlagID LIKE 'Barcode') = 0)
            BEGIN
            INSERT INTO [Ax00].[dbo].[tfmwSwFlags] VALUES ('Barcode', 'INI, END, CANCELED or NULL')
            END
            GO
          </DataScript>
          <IntegrityScript>
          </IntegrityScript>
        </DataRevision>
      </DataRevisions>
    </Release>
    <Release Version="03.00.08">
      <DataRevisions>
        <DataRevision JiraID="BA-2345" SequenceNumber="1">
          <PrerequisiteScript>
          </PrerequisiteScript>
          <DataScript>
            UPDATE dbo.tfmwVersions SET UserSoftware = '3.0.8', ServiceSoftware = '1.2.4', FirmwareScripts = '1.3.0', Firmware = '1.00.1'
            GO
          </DataScript>
          <IntegrityScript>
          </IntegrityScript> 
          </DataRevision>
      </DataRevisions>
    </Release> 
    <!-- 
	  <Release Version="00.00.00">
    <DataRevisions>
      <DataRevision JiraID="" SequenceNumber="">
        <PrerequisiteScript>
        </PrerequisiteScript>
        <DataScript>
        </DataScript>
        <IntegrityScript>
        </IntegrityScript> 
      </DataRevision>
    </DataRevisions>
    </Release>
	  -->
  </Releases>
</DatabaseUpdatesManager>